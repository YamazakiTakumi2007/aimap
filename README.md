# マイマップ - ピン配置アプリ

GoogleMapのような地図アプリケーション。ユーザーが地図上にピンを配置し、各ピンにコメントを追加できるインタラクティブなWebアプリケーションです。

![アプリケーションスクリーンショット](https://via.placeholder.com/800x400?text=Interactive+Map+Application)

## 🌟 主な機能

### 基本機能
- **地図表示**: Leaflet.js + OpenStreetMapを使用した高品質な地図表示
- **ピン配置**: 地図上のクリックで簡単にピン配置
- **コメント機能**: 各ピンにタイトルと説明を追加
- **データ永続化**: LocalStorageを使用してデータを保存

### 管理機能
- **ピン編集**: 配置後のピン情報を編集可能
- **ピン削除**: 個別削除または全削除
- **検索機能**: ピンのタイトル・説明で検索
- **一覧表示**: サイドバーで全ピンを管理

### UI/UX
- **レスポンシブデザイン**: モバイル・タブレット・デスクトップ対応
- **モーダルインターフェース**: 直感的な操作性
- **リアルタイム通知**: 操作結果を即座にフィードバック
- **ダークモード**: システム設定に応じて自動切替

## 🚀 クイックスタート

### 必要な環境
- モダンなWebブラウザ（Chrome、Firefox、Safari、Edge）
- インターネット接続（地図タイル・ライブラリ読み込み用）

### 起動方法
1. リポジトリをクローンまたはダウンロード
```bash
git clone [repository-url]
cd interactive-map-app
```

2. `index.html`をブラウザで開く
```bash
# 方法1: 直接ファイルを開く
open index.html

# 方法2: ローカルサーバーを使用（推奨）
python -m http.server 8000
# http://localhost:8000 にアクセス
```

3. アプリケーションが起動します

## 📁 ファイル構成

```
interactive-map-app/
├── index.html          # メインHTMLファイル
├── styles.css          # スタイルシート
├── script.js           # JavaScript機能
└── README.md          # このファイル
```

## 🎯 使用方法

### ピンの配置
1. 地図上の任意の場所をクリック
2. 表示されるモーダルでピン情報を入力
   - **タイトル** (必須、最大50文字)
   - **説明** (オプション、最大200文字)
3. 「保存」ボタンでピンを確定

### ピンの表示・編集
- **情報表示**: ピンをクリックして詳細情報を表示
- **編集**: 情報モーダルの「編集」ボタンから内容を変更
- **削除**:
  - ピンを右クリック（PC）
  - 情報モーダルの「削除」ボタン

### ピンの検索・管理
- **検索**: サイドバーの検索欄でピンをフィルタリング
- **移動**: サイドバーのピンアイテムをクリックで該当箇所へ移動
- **全削除**: ヘッダーの「全ピン削除」ボタン

## 🛠️ 技術仕様

### 技術スタック
- **HTML5**: セマンティックマークアップ
- **CSS3**: Flexbox、Grid、CSS Variables
- **JavaScript ES6+**: モジュラー設計、非同期処理
- **Leaflet.js 1.9.4**: 地図ライブラリ
- **OpenStreetMap**: 地図タイルプロバイダー

### ブラウザサポート
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

### データ構造

```javascript
{
  id: "pin_1234567890_abc123",      // 一意ID
  lat: 35.6762,                     // 緯度
  lng: 139.6503,                    // 経度
  title: "東京駅",                   // タイトル
  description: "日本の鉄道の中心",    // 説明
  createdAt: "2024-01-01T12:00:00Z", // 作成日時
  updatedAt: "2024-01-01T12:30:00Z"  // 更新日時
}
```

## 📱 レスポンシブ対応

### ブレークポイント
- **モバイル**: ~768px
- **タブレット**: 768px~1024px
- **デスクトップ**: 1024px~

### モバイル最適化
- タッチ操作対応
- 画面サイズに応じたレイアウト変更
- サイドバーとマップの縦配置

## ⌨️ キーボードショートカット

| キー | 動作 |
|------|------|
| `Esc` | モーダルを閉じる |
| `Enter` | 検索実行（検索欄フォーカス時） |

## 🔧 カスタマイズ

### 初期地図設定の変更

```javascript
// script.js 内の initMap() メソッド
this.map = L.map('map').setView([LAT, LNG], ZOOM);
```

### カラーテーマの変更

```css
/* styles.css 内の CSS Variables */
:root {
  --primary-color: #2196f3;
  --secondary-color: #ff5722;
  --background-color: #f5f5f5;
}
```

## 🚨 注意事項

### データストレージ
- データはブラウザのLocalStorageに保存
- ブラウザデータ削除時にピン情報も消去
- 容量制限: 約5-10MB（ブラウザ依存）

### セキュリティ
- XSS対策として入力値をサニタイズ
- 文字数制限による入力値検証

### パフォーマンス
- 大量ピン配置時は動作が重くなる可能性
- 推奨ピン数: 100個以下

## 🐛 トラブルシューティング

### よくある問題

**Q: 地図が表示されない**
- インターネット接続を確認
- ブラウザのJavaScript有効化を確認
- コンソールエラーを確認

**Q: ピンが保存されない**
- ブラウザのLocalStorage有効化を確認
- プライベートモード使用時は保存されない
- ストレージ容量を確認

**Q: モバイルで操作しにくい**
- ピンチズーム操作を使用
- サイドバーから目的のピンを選択

## 📈 今後の拡張予定

### 追加機能候補
- [ ] ピンのカテゴリー分類
- [ ] カテゴリー別色分け表示
- [ ] データエクスポート/インポート
- [ ] 現在地取得機能
- [ ] 住所検索機能
- [ ] ピンの画像添付
- [ ] 共有URL生成

### パフォーマンス改善
- [ ] マーカークラスタリング
- [ ] 仮想スクロール
- [ ] 遅延読み込み最適化

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビューション

バグ報告、機能提案、プルリクエストを歓迎します。

### 開発環境セットアップ
1. リポジトリをフォーク
2. 機能ブランチを作成
3. 変更をコミット
4. テストを実行
5. プルリクエストを作成

## 👨‍💻 作者

AI開発チーム

## 📞 サポート

質問やサポートが必要な場合は、GitHubのIssuesを作成してください。

---

**バージョン**: 1.0.0
**最終更新**: 2025年9月
**対応言語**: 日本語

## 📚 参考リンク

- [Leaflet.js公式ドキュメント](https://leafletjs.com/)
- [OpenStreetMap](https://www.openstreetmap.org/)
- [LocalStorage MDN](https://developer.mozilla.org/ja/docs/Web/API/Window/localStorage)